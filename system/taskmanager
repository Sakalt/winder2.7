<!-- 前述のHTMLに追加 -->
<button onclick="openTaskManager()">タスクマネージャーを開く</button>

<script>
  function openTaskManager() {
    const taskManagerWindow = document.createElement('div');
    taskManagerWindow.className = 'window';
    taskManagerWindow.innerHTML = `
      <div class="title-bar">
        タスクマネージャー
        <button onclick="closeWindow(this)">×</button>
        <button onclick="minimizeWindow(this)">−</button>
        <button onclick="maximizeWindow(this)">□</button>
      </div>
      <div class="content" id="task-list">
        <!-- タスク一覧をここに表示 -->
      </div>
    `;
    document.getElementById('desktop').appendChild(taskManagerWindow);
    updateTaskList();
  }

  function updateTaskList() {
    const taskList = document.getElementById('task-list');
    taskList.innerHTML = '';
    const tasks = document.querySelectorAll('.window');
    tasks.forEach((task, index) => {
      const taskItem = document.createElement('div');
      taskItem.textContent = `Task ${index + 1}: ${task.querySelector('.title-bar').textContent.trim()}`;
      taskList.appendChild(taskItem);
    });
  }
</script>
